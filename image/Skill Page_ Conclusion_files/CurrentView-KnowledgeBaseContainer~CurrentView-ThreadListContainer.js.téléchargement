(window.webpackJsonp=window.webpackJsonp||[]).push([["CurrentView-KnowledgeBaseContainer~CurrentView-ThreadListContainer"],{D3C7:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var r=s("Ux+X"),n=s("QmIk");function a({threadId:e}){return t=>{t(Object(n.a)({threadId:e}));t(Object(r.trackInteraction)("widget-interaction",{action:"view thread"}))}}},JjHl:function(e,t,s){"use strict";var r=s("QgEn"),n=s("VfuR"),a=s.n(n),i=s("Ktcs"),o=s("9f1P"),c=s.n(o),d=s("W/H/"),l=s("CR0J"),p=s("Z/Dw"),h=s("wjRl");const u={baseStyle:Object(o.css)(["display:block;width:100%;font-size:14px;text-align:left;text-decoration:none;background-color:transparent;transition:background-color 150ms ease-out;border:none;min-height:40px;color:",";"," padding:0;"," ",""],({theme:{colors:e}})=>e.text,({alignItems:e})=>e&&`align-items: ${e};`,({disablePadding:e})=>!e&&"padding-left: 10px; padding-right: 10px;",({disableGutters:e})=>!e&&"padding-top: 10px; padding-bottom: 10px;"),_hovered:Object(o.css)(["background-color:rgba(0,0,0,0.08);"]),_focused:Object(o.css)([""," outline-offset:-2px;"],h.a),_pressed:Object(o.css)(["background-color:rgba(0,0,0,0.16);"])},m=c.a.button.withConfig({displayName:"VizExListItemButton__Container",componentId:"mgyg33-0"})(["",""],({theme:e})=>Object(d.a)({component:"ListItemButton",defaultStyles:u,theme:e})),g=Object(i.forwardRef)((e,t)=>Object(r.jsx)(m,Object.assign({},e,{ref:t})));g.displayName="VizExListItemButton";g.propTypes=Object.assign({alignItems:a.a.oneOf(["center","flex-start"]),autoFocus:a.a.bool,children:a.a.node,disableGutters:a.a.bool,disablePadding:a.a.bool,ordered:a.a.bool,theme:l.a},p.a);t.a=g},OOEW:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));s.d(t,"b",(function(){return i}));var r=s("MJM1"),n=s("VBzW");const a=Object(r.a)(n.b),i=Object(r.a)(n.d);Object(r.a)(n.a),Object(r.a)(n.e),Object(r.a)(n.f)},P7w3:function(e,t,s){"use strict";var r=s("QgEn"),n=s("uax2");function a(){return Object(r.jsx)("div",{style:{height:"100%"},children:Object(r.jsx)(n.a,{grow:!0})})}a.displayName="LoadingState";t.a=a},XhrO:function(e,t,s){"use strict";var r=s("QgEn"),n=s("VfuR"),a=s.n(n),i=s("Ktcs"),o=s("r1tY");const c=10;class d extends i.Component{constructor(e){super(e);this.displayName="InfiniteScroll";this.setScrollContainerRef=this.setScrollContainerRef.bind(this);this.onScrollToTop=this.onScrollToTop.bind(this);this.scrollContainerToBottom=this.scrollContainerToBottom.bind(this)}componentDidMount(){const{preventScrollOnMount:e}=this.props;if(!e){const e=this.props.newestAtBottom&&!this.props.scrollToHeader?this.scrollContainer.scrollHeight-this.scrollContainer.clientHeight:0;this.scrollContainerToBottom();this.scrollContainer.scrollTop=e;this.scrollTop=e}}componentDidUpdate(){this.updateScrollTop()}getNewScrollTop(){const{scrollTop:e,scrollHeight:t}=this.scrollContainer;if(!this.props.newestAtBottom||this.props.preventScrollOnMount)return e;return e+(t-(this.scrollHeight||0))}getScrollTopFromBottom(){return this.scrollContainer.scrollHeight+4}scrollContainerToBottom(){this.scrollContainer.scrollTop=this.getScrollTopFromBottom()}setScrollContainerRef(e){this.scrollContainer=e?Object(o.findDOMNode)(e):null}updateScrollTop(){const e=this.getNewScrollTop();this.updateScrollTopWithValue(e)}updateScrollTopWithValue(e){this.scrollContainer.scrollTop=e;this.scrollTop=this.scrollContainer.scrollTop;this.scrollHeight=this.scrollContainer.scrollHeight}isPassedThreshold(){const{newestAtBottom:e}=this.props,{scrollHeight:t,clientHeight:s}=this.scrollContainer;return e?this.scrollContainer.scrollTop<=c:this.scrollContainer.scrollTop>=t-s-c}onScrollToTop(){if(this.scrollContainer.scrollTop!==this.scrollTop){this.isPassedThreshold()&&this.props.fetchMore();this.updateScrollTop()}}render(){const{className:e,children:t}=this.props;return Object(r.jsx)("div",{className:e,style:{flexGrow:1},ref:this.setScrollContainerRef,onScroll:this.onScrollToTop,"data-test-id":"scroll-container",children:t})}}d.propTypes={children:a.a.node,className:a.a.string,fetchMore:a.a.func.isRequired,newestAtBottom:a.a.bool.isRequired,preventScrollOnMount:a.a.bool.isRequired,scrollToHeader:a.a.bool};d.defaultProps={newestAtBottom:!0,preventScrollOnMount:!1};t.a=d},"gJ+9":function(e,t,s){"use strict";var r=s("QgEn"),n=s("Ktcs"),a=s("QYOI"),i=s("VfuR"),o=s.n(i),c=s("npjq"),d=s("9f1P"),l=s.n(d),p=s("Avso"),h=s("BnUr"),u=s("OOEW"),m=s("GPZA"),g=s("fKJZ"),b=s("cKdz"),f=s("sL2E"),j=s("Pmcc"),x=s("sl/w"),O=s("tOFb"),T=s("P7jJ");const C=l.a.div.withConfig({displayName:"ThreadPreviewText__TruncateStringStyled",componentId:"sc-12tttnd-0"})(["line-height:1.5rem;",""],e=>e.unseenCount?Object(d.css)(["font-weight:600;margin-bottom:16px;margin-top:0;display:block;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]):Object(d.css)(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]));class v extends n.Component{renderText(){const{text:e,hasAttachment:t,hasChatEnded:s}=this.props;return s?Object(r.jsx)(x.a,{message:"conversations-visitor-ui.threadList.chatEndedMessage"}):t?Object(r.jsxs)("span",{children:[Object(r.jsx)(T.a,{className:"m-right-2",icon:Object(r.jsx)(O.a,{})}),e||Object(r.jsx)(x.a,{message:"cvVisitorUIAttachments.threadPreview"})]}):e}render(){const{unseenCount:e}=this.props;return Object(r.jsx)(C,{unseenCount:e,className:this.props.className,children:this.renderText()})}}v.displayName="ThreadPreviewText";v.propTypes={className:o.a.string,hasAttachment:o.a.bool.isRequired,hasChatEnded:o.a.bool.isRequired,text:o.a.string,unseenCount:o.a.number.isRequired};var w=v,R=s("mKxs"),y=s("+KD7"),I=s("Dmjx");const N="default",A="success",S="warning",L="danger",k="info";var q=s("CR0J");const B=s("57op").i,F=()=>"#cbd6e2",M=()=>"#00bda5",H=()=>"#f5c26b",_=()=>"#f2545b",z=()=>"#00a4bd",E=({theme:e,use:t})=>{switch(t){case N:return F();case A:return M();case S:return H();case L:return _();case k:return z();default:return B(e)}},W=l.a.div.withConfig({displayName:"VizExStatusTag__AbstractVizExStatusTag",componentId:"sc-15evtjl-0"})(["position:relative;display:inline-flex;::after{content:'';border-radius:50%;height:10px;width:10px;background-color:",";}"],({theme:e,use:t})=>""+E({theme:e,use:t})),V=e=>{const{use:t,theme:s}=e,n=Object(I.a)(e,["use","theme"]);return Object(r.jsx)(W,Object.assign({},n,{use:t,theme:s}))};V.displayName="VizExStatusTag";V.propTypes={theme:q.a,use:o.a.oneOf([N,A,S,L,k])};var P=V,D=s("Mcxo"),J=s("JjHl");const K=l.a.div.withConfig({displayName:"ThreadListItemWrapper__TheadListItemBreak",componentId:"a3n4yw-0"})(["margin:0;background-color:",";width:100%;height:1px;"],y.l),Q=l.a.div.withConfig({displayName:"ThreadListItemWrapper__ItemWrapper",componentId:"a3n4yw-1"})(["text-align:left;padding-top:8px;padding-bottom:8px;padding-left:20px;padding-right:20px;display:flex;flex-direction:row;align-items:center;height:75px;width:100%;"]),U=l.a.div.withConfig({displayName:"ThreadListItemWrapper__TextWrapper",componentId:"a3n4yw-2"})(["flex-grow:1;min-width:0;padding-left:12px;"]),G=l()(D.a).withConfig({displayName:"ThreadListItemWrapper__InfoText",componentId:"a3n4yw-3"})(["display:flex;justify-content:space-between;"]);function Y({nameText:e,onClick:t,renderAvatar:s,renderText:n,renderTimestamp:a,unseenCount:i}){return Object(r.jsxs)(J.a,{as:"button",role:"button",type:"button",className:"selenium-test-marker-thread-list-item thread-list-item","data-test-id":"thread-list-item",disablePadding:!0,disableGutters:!0,onClick:t,children:[Object(r.jsxs)(Q,{children:[i>0?Object(r.jsx)(P,{use:"info",className:"m-right-5"}):null,s(),Object(r.jsxs)(U,{children:[Object(r.jsxs)(G,{use:"help",children:[Object(r.jsx)("span",{"data-test-id":"thread-list-item-name-text",children:e}),a()]}),n()]})]}),Object(r.jsx)(K,{distance:"small"})]})}Y.displayName="ThreadListItemWrapper";Y.propTypes={nameText:o.a.string.isRequired,onClick:o.a.func.isRequired,renderAvatar:o.a.func.isRequired,renderText:o.a.func.isRequired,renderTimestamp:o.a.func.isRequired,unseenCount:o.a.number};var Z=Y,X=s("wGdn"),$=s("qe8F"),ee=s("Te0v");const te=l.a.span.withConfig({displayName:"ThreadListItem__TimeStampWrapper",componentId:"z7p8k5-0"})(["white-space:nowrap;"]);te.displayName="TimeStampWrapper";class se extends n.Component{constructor(...e){super(...e);this.getFirstNameOrAgent=e=>Object(p.getFirstName)(e)||c.a.text("conversations-visitor-ui.default.agent");this.getFallbackResponder=()=>{const{sendFromResponders:e}=this.props;return e&&e.get(0)};this.getAssignedResponder=()=>{const{assignedResponder:e,thread:t}=this.props;return e||Object(h.getResponder)(t)};this.canRenderMultipleAvatars=()=>{const{sendFromResponders:e,chatHeadingConfig:t}=this.props;return Object(b.a)(t)&&e&&e.size>1};this.hasCustomChatHeading=()=>{const{isBot:e}=this.props;return!!this.props.chatHeadingConfig.customChatName&&!e};this.renderTimestamp=()=>{const{locale:e,thread:t}=this.props,s=Object(h.getLatestMessageTimestamp)(t);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(te,{"data-test-type":"timestamp","aria-hidden":"true",children:Object(r.jsx)($.a,{locale:e,timestamp:s})}),Object(r.jsx)(ee.a,{elementType:"span",children:Object(r.jsx)($.a,{locale:e,timestamp:s,format:"long"})})]})};this.renderText=()=>{const e=Object(h.getUnseenCount)(this.props.thread),t=Object(u.b)(this.props.thread),s=Object(u.a)(this.props.thread),n=Object(h.getStatus)(this.props.thread)===m.a.ENDED;return Object(r.jsx)(w,{className:"m-y-2",text:t,hasAttachment:s,unseenCount:e,hasChatEnded:n})};this.renderAssignedResponder=()=>{const{coloring:e,thread:t}=this.props,s=this.getAssignedResponder(),n=this.getFirstNameOrAgent(s);return Object(r.jsx)(Z,{onClick:this.props.onClick,coloring:e,nameText:n,renderAvatar:()=>Object(r.jsx)(f.a,{avatar:Object(p.getAvatar)(s),avatarName:n,avatarAlt:"",isBot:Object(p.getIsBot)(s),online:Object(p.getIsOnline)(s),className:"visitor-chat-head",isVisitorWidget:!0}),renderText:this.renderText,renderTimestamp:this.renderTimestamp,unseenCount:Object(h.getUnseenCount)(t)})};this.renderFallback=()=>{const{coloring:e,thread:t}=this.props,s=this.getFallbackResponder(),n=this.getFirstNameOrAgent(s);return Object(r.jsx)(Z,{onClick:this.props.onClick,coloring:e,nameText:n,renderAvatar:()=>Object(r.jsx)(f.a,{avatar:Object(p.getAvatar)(s),avatarAlt:"",avatarName:n,isBot:Object(p.getIsBot)(s),online:Object(p.getIsOnline)(s),className:"visitor-chat-head",isVisitorWidget:!0}),renderText:this.renderText,renderTimestamp:this.renderTimestamp,unseenCount:Object(h.getUnseenCount)(t)})};this.renderCustom=()=>{const{coloring:e,thread:t,chatHeadingConfig:s}=this.props;return Object(r.jsx)(Z,{onClick:this.props.onClick,coloring:e,nameText:s.customChatName,renderAvatar:()=>Object(r.jsx)(j.a,{chatHeadingConfig:this.props.chatHeadingConfig,size:"md"}),renderText:this.renderText,renderTimestamp:this.renderTimestamp,unseenCount:Object(h.getUnseenCount)(t)})};this.renderMultipleAvatars=()=>{const{coloring:e,thread:t,sendFromResponders:s}=this.props;return Object(r.jsx)(Z,{onClick:this.props.onClick,coloring:e,nameText:s.map(p.getFirstName).join(", "),renderAvatar:()=>Object(r.jsx)(X.a,{size:"xs",responders:this.props.sendFromResponders}),renderText:this.renderText,renderTimestamp:this.renderTimestamp,unseenCount:Object(h.getUnseenCount)(t)})}}render(){switch(!0){case!!this.getAssignedResponder():return this.renderAssignedResponder();case this.hasCustomChatHeading():return this.renderCustom();case this.canRenderMultipleAvatars():return this.renderMultipleAvatars();default:return this.renderFallback()}}}se.displayName="ThreadListItem";se.propTypes={assignedResponder:Object(R.a)("Responder"),chatHeadingConfig:g.a.isRequired,coloring:o.a.object,isBot:o.a.bool.isRequired,locale:o.a.string.isRequired,onClick:o.a.func.isRequired,sendFromResponders:o.a.instanceOf(a.List).isRequired,thread:Object(R.a)("Thread").isRequired};se.displayName="ThreadListItem";t.a=se},j6If:function(e,t,s){"use strict";var r=s("QgEn"),n=s("Ktcs"),a=s("QYOI"),i=s("VfuR"),o=s.n(i),c=s("9f1P"),d=s.n(c),l=s("BnUr"),p=s("xW98"),h=s("fKJZ"),u=s("XhrO"),m=s("gJ+9");const g=d()(u.a).withConfig({displayName:"ThreadList__ThreadListInfiniteScroll",componentId:"sc-1skxuk8-0"})(["height:100%;overflow:auto;"]);g.displayName="ThreadListInfiniteScroll";class b extends n.Component{constructor(...e){super(...e);this.renderThreadList=()=>{const{chatHeadingConfig:e,coloring:t,onSelectThread:s,threadList:n,sendFromResponders:a,agentRespondersList:i,isBot:o,locale:c}=this.props;return n.map(n=>{const d=Object(l.getThreadId)(n),h=Object(p.findResponderByIdFromList)({responders:i,responderId:Object(l.getAssignedAgentId)(n)});return Object(r.jsx)(m.a,{chatHeadingConfig:e,coloring:t,onClick:()=>s(d),sendFromResponders:a,thread:n,assignedResponder:h,isBot:o,locale:c},"thread."+d)})}}render(){return Object(r.jsx)(g,{newestAtBottom:!1,fetchMore:()=>{},children:this.renderThreadList()})}}b.displayName="ThreadList";b.propTypes={agentRespondersList:o.a.instanceOf(a.List).isRequired,chatHeadingConfig:h.a.isRequired,coloring:o.a.object,isBot:o.a.bool.isRequired,locale:o.a.string.isRequired,onSelectThread:o.a.func.isRequired,sendFromResponders:o.a.instanceOf(a.List).isRequired,threadList:o.a.instanceOf(a.List).isRequired};t.a=b},qe8F:function(e,t,s){"use strict";var r=s("QgEn"),n=s("VfuR"),a=s.n(n),i=s("sl/w");const o=({locale:e,timestamp:t,format:s="short"})=>{const n=-1*(new Date(t).valueOf()-(new Date).valueOf()),a=6e4,o=60*a,c=24*o,d=30*c,l=365*c;try{const t=new Intl.RelativeTimeFormat(e,{style:s});if(n<a){const e=Math.round(-n/1e3);return 0===e?Object(r.jsx)(i.a,{message:"conversations-visitor-ui.timeSince.secondsAgo"}):t.format(e,"second")}if(n<o){const e=Math.round(-n/a);return t.format(e,"minute")}if(n<c){const e=Math.round(-n/o);return t.format(e,"hour")}if(n<d){const e=Math.round(-n/c);return t.format(e,"day")}if(n<l){const e=Math.round(-n/d);return t.format(e,"month")}if(n>=l){const e=Math.round(-n/l);return t.format(e,"year")}}catch(s){return new Date(t).toLocaleDateString(e)}return null};o.displayName="TimeSince";o.propTypes={format:a.a.string,locale:a.a.string.isRequired,timestamp:a.a.number.isRequired};t.a=o},wGdn:function(e,t,s){"use strict";s.d(t,"b",(function(){return x}));var r=s("QgEn"),n=s("QYOI"),a=s("VfuR"),i=s.n(a),o=s("+KD7"),c=s("9f1P"),d=s.n(c),l=s("Avso"),p=s("0Me1"),h=s("sL2E");const u=2,m=o.r,g=e=>({border:`${u}px solid ${m}`,background:""+m,borderRadius:"50%",zIndex:0,marginTop:e}),b=d.a.div.withConfig({displayName:"AutomatedMessageAvatars__AvatarGroupWrapper",componentId:"pcfnli-0"})(["display:flex;flex:0 0 ","px;justify-content:center;"],({size:e})=>e),f=(e,t)=>Object.assign({},g(t),{zIndex:e,marginLeft:-5}),j=(e,t)=>e>=1?f(e,t):Object.assign({},g(t),{marginLeft:t}),x=e=>{switch(!0){case 0===e:return 2;case 1===e:return 0;case 2===e:return 1;default:return 0}},O=d()(h.a).withConfig({displayName:"AutomatedMessageAvatars__ChatHeadWrapper",componentId:"pcfnli-1"})(["position:relative;display:flex;align-items:",";z-index:",";",""],({numAvatars:e})=>2===e?"flex-start":"center",({responderIndex:e})=>x(e),({additionalClass:e})=>e&&"\n      top: -15px;\n      left: -35px;\n    "),T=({showStatusIndicator:e,responders:t,size:s})=>{const n=t.size,a=2===n?0:10,i=t.map((t,i)=>{const o=Object(l.getAvatar)(t),c=Object(l.getFriendlyOrFormalName)(t),d=Object(p.a)(t),h=Object(l.getIsBot)(t),u=Object(l.getUserId)(t),m=j(i,a),g=2===i;return Object(r.jsx)(O,{numAvatars:n,responderIndex:i,additionalClass:g,avatar:o,avatarName:c,isBot:h,isVisitorWidget:!0,online:d,responder:t,showStatus:e,size:s,style:m},"avatar."+u)});return Object(r.jsx)(b,{size:s,children:i})};T.propTypes={responders:i.a.instanceOf(n.List).isRequired,showStatusIndicator:i.a.bool.isRequired,size:i.a.string.isRequired};T.defaultProps={showStatusIndicator:!1,size:"sm"};T.displayName="AutomatedMessageAvatars";t.a=T}}]);
//# sourceMappingURL=//static.hsappstatic.net/conversations-visitor-ui/static-1.18125/CurrentView-KnowledgeBaseContainer~CurrentView-ThreadListContainer.js.map